import{r as u,j as e,d as o,e as j,B as h,a as g}from"./index-BvjaW1Z3.js";import{S as N}from"./index-D0zFNlcL.js";import{Y as v,D as x,f as p,g as f,j as i,n as w,A as k,p as S,o as C,h as b,i as D,G as M,q as T}from"./sign-out-dialog-P6R19SUM.js";import{S as E,M as y}from"./sun-BNy2EWRZ.js";import{C as m}from"./check-D8UQNhlN.js";function U({className:a,fixed:s,showSidebarTrigger:t=!0,children:r,...c}){const[l,d]=u.useState(0);return u.useEffect(()=>{const n=()=>{d(document.body.scrollTop||document.documentElement.scrollTop)};return document.addEventListener("scroll",n,{passive:!0}),()=>document.removeEventListener("scroll",n)},[]),e.jsx("header",{className:o("z-50 h-16",s&&"header-fixed peer/header sticky top-0 w-[inherit]",l>10&&s?"shadow":"shadow-none",a),...c,children:e.jsxs("div",{className:o("relative flex h-full items-center gap-3 p-4 sm:gap-4",l>10&&s&&"after:bg-background/20 after:absolute after:inset-0 after:-z-10 after:backdrop-blur-lg"),children:[t&&e.jsxs(e.Fragment,{children:[e.jsx(v,{variant:"outline",className:"max-md:scale-125"}),e.jsx(N,{orientation:"vertical",className:"h-6"})]}),r]})})}function F(){const{theme:a,setTheme:s}=j();return u.useEffect(()=>{const t=a==="dark"?"#020817":"#fff",r=document.querySelector("meta[name='theme-color']");r&&r.setAttribute("content",t)},[a]),e.jsxs(x,{modal:!1,children:[e.jsx(p,{asChild:!0,children:e.jsxs(h,{variant:"outline",size:"icon",className:"h-8 w-8",children:[e.jsx(E,{className:"h-4 w-4 scale-100 rotate-0 transition-all dark:scale-0 dark:-rotate-90"}),e.jsx(y,{className:"absolute h-4 w-4 scale-0 rotate-90 transition-all dark:scale-100 dark:rotate-0"}),e.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),e.jsxs(f,{align:"end",children:[e.jsxs(i,{onClick:()=>s("light"),children:["Light"," ",e.jsx(m,{size:14,className:o("ms-auto",a!=="light"&&"hidden")})]}),e.jsxs(i,{onClick:()=>s("dark"),children:["Dark",e.jsx(m,{size:14,className:o("ms-auto",a!=="dark"&&"hidden")})]}),e.jsxs(i,{onClick:()=>s("system"),children:["System",e.jsx(m,{size:14,className:o("ms-auto",a!=="system"&&"hidden")})]})]})]})}function q(){const[a,s]=w(),t=g(n=>n.auth.user),r=t?.user_metadata?.full_name||t?.user_metadata?.name||t?.email?.split("@")[0]||"User",c=t?.email||"",l=t?.user_metadata?.avatar_url||"",d=r.split(" ").map(n=>n[0]).join("").toUpperCase().slice(0,2);return e.jsxs(e.Fragment,{children:[e.jsxs(x,{modal:!1,children:[e.jsx(p,{asChild:!0,children:e.jsx(h,{variant:"ghost",size:"icon",className:"relative h-8 w-8 rounded-full","aria-label":"User menu",children:e.jsxs(k,{className:"h-8 w-8",children:[e.jsx(S,{src:l,alt:r}),e.jsx(C,{children:d})]})})}),e.jsxs(f,{className:"w-56",align:"end",forceMount:!0,children:[e.jsx(b,{className:"font-normal",children:e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("p",{className:"text-sm leading-none font-medium",children:r}),e.jsx("p",{className:"text-muted-foreground text-xs leading-none",children:c})]})}),e.jsx(D,{}),e.jsxs(i,{className:"text-destructive focus:text-destructive",onClick:()=>s(!0),children:["Sign out",e.jsx(M,{className:"text-current",children:"⇧⌘Q"})]})]})]}),e.jsx(T,{open:!!a,onOpenChange:s})]})}export{U as H,q as P,F as T};
